"""
数据溯源标注规则 — 所有分析 prompt 的共享防幻觉指令。

注入到每个 lens / synthesis / alpha prompt 中，要求 LLM 标注数据来源，
缺失数据时明确声明而非编造。
"""

DATA_PROVENANCE_INSTRUCTIONS = """
## 数据溯源标注规则（必须遵守）

你在分析中引用的每一个数据点都必须标注来源：

- **[数据源: 实际数据]** — 来自 data_context.md 中的财务数据、比率、价格、指标
- **[数据源: 网络调研]** — 来自 research files (earnings.md, competitive.md, street.md) 中的信息
- **[数据源: LLM 估算]** — 来自你自身知识的推断或估计（必须明确标注）

### 强制规则

1. **数据缺失时必须写"该数据未提供"** — 绝不编造具体数字
2. **严禁将 LLM 推断伪装成实际数据** — 如果做空比例、机构持仓等数据未在上下文中提供，不得给出具体数字
3. 如果某个分析维度所需数据完全缺失，写明"因缺乏 XX 数据，跳过此维度分析"并继续下一个维度
4. 估值计算中的假设必须标注 [数据源: LLM 估算]，与实际财报数据区分
"""
